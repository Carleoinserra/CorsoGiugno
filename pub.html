<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <style>
img {
    width: 150px !important;
    height: 150px !important;
}


    </style>
    
    <script>
   window.onload = gestoreLoad;

   function gestoreLoad(){

    var btn = document.getElementById("btn");
    btn.onclick= scegli;
// la classe menu ha 5 prorpeità la stringa panino, la string acontorno, la stringa bibita, un numero che è il przzo e la url
    class Menu {

      constructor (panino, contorno, bibita, prezzo, url) {

        this.panino = panino;
        this.contorno = contorno;
        this.bibita = bibita;
        this.prezzo = prezzo;
        this.url = url;
      }

       visualizza(){

        return (this.panino +" ," + this.contorno  +" ," + this.bibita
        + " ," + this.prezzo);
      }
      
     
    }
// creiamo un nuovo e ci aggiungiamo 4 menu
    var listaMenu = new Array();
    var m1 = new Menu("Panino primavera", "patate", "coca cola", 14, "panino1.jpeg");
    var m2 = new Menu("Panino estate", "patate", "coca cola", 15, "panino2.jpeg");
    var m3 = new Menu("Panino special", "patate", "coca cola", 16, "panino3.jpeg");
    var m4 = new Menu("Panino extra", "patate", "coca cola", 17, "panino4.jpeg");
    listaMenu.push(m1);
    listaMenu.push(m2);
    listaMenu.push(m3);
    listaMenu.push(m4);
    // recuperiamo il div (che è un card group) sul'html e stampiamo una nuova card
    // con i dettagli e l'immagine del panino
   var nodo =  document.getElementById("show");
   for (var i = 0; i < listaMenu.length; i++){
    var nuovoNodo = document.createElement("div");
    nuovoNodo.className = "card";
    var nodoImmagine = document.createElement("img");
    nodoImmagine.src = listaMenu[i].url;
    nodoImmagine.className = "card-img-top";
    nodoImmagine.className += " mx-auto";
    
    nuovoNodo.appendChild(nodoImmagine);
    var nodoCardBody = document.createElement("div");
    nodoCardBody.className = "card-body";
    nuovoNodo.appendChild(nodoCardBody);
    var nodoTitolo = document.createElement("h5");
    nodoTitolo.className = "card-title";
    nodoTitolo.textContent = listaMenu[i].panino;
    nodoCardBody.appendChild(nodoTitolo);
    var nodoTesto = document.createElement("p");
    nodoTesto.className = "card-text";
    nodoTesto.textContent = listaMenu[i].visualizza();
    nodoCardBody.appendChild(nodoTesto);
    
    
    var nodoNumber = document.createElement("input");
    nodoNumber.type = "number";
    nodoNumber.value = "0";
    nodoNumber.id = listaMenu[i].panino;
   
    nodoCardBody.appendChild(nodoNumber);
    nodo.appendChild(nuovoNodo);
   }
   
    function scegli(){
        
    var listaScelte = new Array();
    for (var i = 0; i < listaMenu.length; i++){
       var valoreInput = document.getElementById(listaMenu[i].panino).value;
       
       listaScelte.push(valoreInput);
    }
    var somma = 0;
    var riepilogo = "";
    for (var i = 0; i < listaMenu.length; i++){
        if (listaScelte[i] != "0") {
            
        riepilogo += " Hai ordinato n. " + listaScelte[i] + " "+ listaMenu[i].visualizza() + "\b";
        somma += listaMenu[i].prezzo * listaScelte[i];

        
    }
var nodo = document.getElementById("result");
nodo.textContent = riepilogo;
var nodoPrezzo = document.createElement("h3");
nodoPrezzo.textContent = "Il totale da pagare è " + somma + " euro";
nodo.appendChild(nodoPrezzo);


}

    



    }
   }



    </script>
</head>
<body>
 <div id = "show" class = "card-group">

 </div>   
 
 <button id = "btn">Ordina</button>
 <div id = "result"></div>
 
</body>
</html>
