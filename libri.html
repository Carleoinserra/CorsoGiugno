<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        img {
            width: 150px !important;
            height: 150px !important;
        }
        
        
            </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script>
    window.onload = gestoreLoad;

 function gestoreLoad(){ 
    
    var btn = document.getElementById("btn");
    btn.onclick = add;
class book {

    constructor(autore, titolo, genere, posizione, url){

        this.autore = autore;
        this.titolo = titolo;
        this.genere = genere;
        this.posizione = posizione;
        this.url = url;
    }

    visualizza(){
        return "Posizione:  " + this.posizione +"  Autore: " + this.autore + " titolo: " + this.titolo
        + " genere: " + this.genere;
    }
}

var listaBooks = new Array();
listaBooks.push(new book ("Dante", "La divina Commedia", "classico", 1, "divina.jpeg"));
listaBooks.push(new book ("Shakespeare", "Romeo e Giulietta", "classico",2, "romeo.jpeg"));
listaBooks.push(new book ("Gomorra", "Saviano", "inchiesta",3, "gomorra.jpeg"));
listaBooks.push(new book ("King", "It", "horror", 4, "it.jpeg"));
listaBooks.push(new book ("Ferrante", "L'amica geniale", "drammatico", 5, "amica.jpeg"));
 // recuperiamo il div (che Ã¨ un card group) sul'html e stampiamo una nuova card
    // con i dettagli e l'immagine del panino
mostraLibri();
    function mostraLibri(){
        remove();
    var nodo =  document.getElementById("show");
   for (var i = 0; i < listaBooks.length; i++){
    
    var nuovoNodo = document.createElement("div");
    
    nuovoNodo.className = "card";
    var nodoImmagine = document.createElement("img");
    nodoImmagine.src = listaBooks[i].url;
    nodoImmagine.className = "card-img-top";
    nodoImmagine.className += " mx-auto";
    
    nuovoNodo.appendChild(nodoImmagine);
    var nodoCardBody = document.createElement("div");
    nodoCardBody.className = "card-body";
    nuovoNodo.appendChild(nodoCardBody);
    var nodoTitolo = document.createElement("h5");
    nodoTitolo.className = "card-title";
    nodoTitolo.textContent = listaBooks[i].titolo;
    nodoCardBody.appendChild(nodoTitolo);
    var nodoTesto = document.createElement("p");
    nodoTesto.className = "card-text";
    nodoTesto.textContent = listaBooks[i].visualizza();
    nodoCardBody.appendChild(nodoTesto);
    nodo.appendChild(nuovoNodo);
    
    
    } }
    function add(){
        
        var titolo =  document.getElementById("titolo").value;
        var autore =  document.getElementById("autore").value;
        var genere =  document.getElementById("genere").value;
        var url =  document.getElementById("url").value;
        var pos = document.getElementById("pos").value;
        var l1 = new book(autore,titolo,  genere,pos , url);
        listaBooks[pos-1] = l1;

        mostraLibri();
       
    }

    function remove(){
    
    var nodo = document.getElementById("show");
    
    while (nodo.firstChild) {

        nodo.removeChild(nodo.firstChild);
    }}
    
    
    }
</script>
</head>
<body>
 <h3>Top libri talentform</h3> 
 <div id ="show"class = "card-group" ></div>  
 <hr>
 <hr>
 Inserisci il titolo <input id = "titolo" type = "text"> <br>
 Inserisci l'autore <input id = "autore" type = "text"> <br>
 Inserisci il genere <input id = "genere" type = "text"> <br>
 Inserisci l'url <input id = "url" type = "text"><br>
 Inserisci la posizione
 <select id ="pos">
    <option value ="1">1</option>
    <option value ="2">2</option>
    <option value ="3">3</option>
    <option value ="4">4</option>
    <option value ="5">5</option>
 </select>
 <br>
 <button id = "btn">Carica</button>
</body>
</html>
